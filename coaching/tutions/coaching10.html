<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Swipeable Elliptical Carousel Example</title>

<style>
  body {
    font-family: 'Poppins', sans-serif;
    background-color: #0c0c0c;
    color: #fff;
    margin: 0;
    padding: 0;
  }

  header {
    background: #000;
    padding: 20px;
    text-align: center;
  }

  header h1 {
    color: #00ffcc;
    margin-bottom: 10px;
  }

  .search-box {
    margin: 10px auto;
    max-width: 500px;
  }

  .search-box input {
    width: 100%;
    padding: 10px;
    border-radius: 50px;
    border: none;
    outline: none;
    font-size: 1rem;
  }

  section {
    padding: 20px;
    max-width: 900px;
    margin: 0 auto;
  }

  section h2 {
    color: #00ffaa;
    margin-bottom: 15px;
    border-left: 4px solid #00ff99;
    padding-left: 10px;
  }

  /* Carousel Styles */
  .carousel-container {
    overflow: hidden;
    width: 100%;
    margin: 20px auto;
    position: relative;
  }

  .carousel-track {
    display: flex;
    transition: transform 0.3s ease-in-out;
    user-select: none;
  }

  .carousel-item {
    min-width: 250px;
    margin: 0 10px;
    padding: 20px;
    background: #1a1a1a;
    color: #fff;
    border-radius: 50px; /* Elliptical box */
    text-align: center;
    flex-shrink: 0;
    cursor: grab;
  }

  .carousel-item:active {
    cursor: grabbing;
  }

  @media (max-width: 600px) {
    .carousel-item {
      min-width: 200px;
      padding: 15px;
    }
  }
</style>
</head>
<body>

<header>
  <h1>Allen Career Institute Varanasi</h1>
  <div class="search-box">
    <input type="text" placeholder="Search courses, faculties...">
  </div>
</header>

<section>
  <h2>Swipeable Advice Carousel</h2>
  <div class="carousel-container">
    <div class="carousel-track">
      <div class="carousel-item">Always research thoroughly about the coaching center before enrolling.</div>
      <div class="carousel-item">Attend demo classes to understand the teaching style and environment.</div>
      <div class="carousel-item">Maintain a regular study schedule; your success depends on your effort.</div>
      <div class="carousel-item">Use test series and practice materials to build confidence.</div>
      <div class="carousel-item">Balance coaching with self-study and revision at home.</div>
    </div>
  </div>
</section>

<script>
const track = document.querySelector('.carousel-track');
const items = Array.from(document.querySelectorAll('.carousel-item'));

let isDragging = false, startPos = 0, currentTranslate = 0, prevTranslate = 0, animationID = 0, currentIndex = 0;

items.forEach((item, index) => {
  item.addEventListener('touchstart', touchStart(index));
  item.addEventListener('touchend', touchEnd);
  item.addEventListener('touchmove', touchMove);

  item.addEventListener('mousedown', touchStart(index));
  item.addEventListener('mouseup', touchEnd);
  item.addEventListener('mousemove', touchMove);
  item.addEventListener('mouseleave', touchEnd);
});

window.addEventListener('keydown', (e) => {
  if(e.key === 'ArrowRight') moveToNext();
  if(e.key === 'ArrowLeft') moveToPrev();
});

function touchStart(index) {
  return function(event) {
    currentIndex = index;
    startPos = getPositionX(event);
    isDragging = true;
    animationID = requestAnimationFrame(animation);
    track.style.transition = "none";
  }
}

function touchMove(event) {
  if(isDragging) {
    const currentPosition = getPositionX(event);
    currentTranslate = prevTranslate + currentPosition - startPos;
  }
}

function touchEnd() {
  cancelAnimationFrame(animationID);
  isDragging = false;
  const movedBy = currentTranslate - prevTranslate;

  if(movedBy < -50) moveToNext();
  else if(movedBy > 50) moveToPrev();
  else setPositionByIndex();

  prevTranslate = currentTranslate;
}

function getPositionX(event) {
  return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
}

function animation() {
  setSliderPosition();
  if(isDragging) requestAnimationFrame(animation);
}

function setSliderPosition() {
  track.style.transform = `translateX(${currentTranslate}px)`;
}

function moveToNext() {
  currentIndex = (currentIndex + 1) % items.length;
  setPositionByIndex();
}

function moveToPrev() {
  currentIndex = (currentIndex - 1 + items.length) % items.length;
  setPositionByIndex();
}

function setPositionByIndex() {
  currentTranslate = -currentIndex * (items[0].offsetWidth + 20);
  prevTranslate = currentTranslate;
  track.style.transition = "transform 0.3s ease-in-out";
  setSliderPosition();
}
</script>

</body>
</html>
